a code review of my main.py

code:

from fastapi import FastAPI, HTTPException
from sqlmodel import Session, select
from contextlib import asynccontextmanager
from fastapi.middleware.cors import CORSMiddleware

from backend.app.core.database import create_db_and_tables, engine, User
from backend.app.api import auth_routes, journal_routes
from backend.app.core.middleware import LogMiddleware

@asynccontextmanager
async def lifespan(app: FastAPI):
    print("Creating Database Tables...")
    create_db_and_tables()
    print("Database tables created!")
    yield
    print("Server Shutting down...")

app = FastAPI(lifespan=lifespan)

# Middleware
app.add_middleware(LogMiddleware)  # logs all requests
origins = [
    "http://localhost:5173",
    "http://127.0.0.1:5173",
]
app.add_middleware(
    CORSMiddleware,
    allow_origins=origins,
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"]
)

# API routes
app.include_router(auth_routes.router, prefix="/api")
app.include_router(journal_routes.router, prefix="/api")

@app.get("/")
async def root():
    try:
        with Session(engine) as session:
            session.exec(select(User)).first()
        return {"message": "Hello World", "status": "database OK"}
    except Exception as e:
        raise HTTPException(status_code=500, detail=f"Database ERROR: {str(e)}")        

@app.get("/health")
async def health():
    return {"status": "healthy"}


code review:

from fastapi import FastAPI, HTTPException
from sqlmodel import Session, select
from contextlib import asynccontextmanager
from fastapi.middleware.cors import CORSMiddleware

from backend.app.core.database import create_db_and_tables, engine, User
from backend.app.api import auth_routes, journal_routes
from backend.app.core.middleware import LogMiddleware

these are my imports for fastapi packages, sqlmodel, contextlib, middleware, and my personal packages from my root directory
